var AtomicPackages;!function(t){var o=function(){function t(t){}return t.search=function(t,o){var e=Object.keys(o)[0];return t.filter(function(t){return t[e]==o[e]})},t.checkType=function(t){switch(typeof t){case"number":return{id:t}}},t}();t.AtomicPackageModel=o}(AtomicPackages||(AtomicPackages={}));var AtomicPackageView;!function(t){var o=function(){function t(t){this.node=t,this._OPEN_CLASS_NAME="open"}return t.fromData=function(o){return new t(o?o:null)},t.prototype.open=function(){this.node.classList.add(this._OPEN_CLASS_NAME)},t.prototype.close=function(){this.node.classList.contains(this._OPEN_CLASS_NAME)&&this.node.classList.remove(this._OPEN_CLASS_NAME)},t.prototype.addIdName=function(t){this.node.id=t},t.prototype.destroy=function(){var t=document.getElementById(this.node.id);t.parentNode.removeChild(t)},t.prototype.createElement=function(){},t}();t.ModalWindow=o;var e=function(){function t(){this._SHOW_CLASS_NAME="show",this.createElement()}return t.prototype.createElement=function(){this.node=document.createElement("div"),this.node.classList.add("modalWindowBackDrop"),document.body.appendChild(this.node)},t.prototype.show=function(){this.node.classList.add(this._SHOW_CLASS_NAME)},t.prototype.hide=function(){this.node.classList.contains(this._SHOW_CLASS_NAME)&&this.node.classList.remove(this._SHOW_CLASS_NAME)},t}();t.ModalWindowBackDrop=e}(AtomicPackageView||(AtomicPackageView={}));var AtomicPackages;!function(t){var o=function(){function t(t){}return t}();t.AtomicPackageView=o}(AtomicPackages||(AtomicPackages={}));var AtomicPackageModel;!function(t){var o=function(){function t(t,o,e,i,n){this.id=t,this.className=o,this.idName=e,this.isOpen=i,this.view=n,this.addIdName()}return t.fromData=function(o){return new t(o.id?o.id:1,o.className?o.className:"",o.idName?o.idName:"",o.isOpen?o.isOpen:!1,o.view?o.view:null)},t.prototype.addIdName=function(){this.view.addIdName(this.idName)},t.prototype.open=function(){this.isOpen=!0,this.view.open()},t.prototype.close=function(){this.isOpen=!1,this.view.close()},t.prototype.destroy=function(){this.view.destroy()},t}();t.ModalWindow=o;var e=function(){function t(t,o){this.isShow=t,this.view=o}return t.fromData=function(o){return console.log(o),new t(o.isShow?o.isShow:!1,o.view?o.view:null)},t.prototype.show=function(){this.isShow=!0,this.view.show()},t.prototype.hide=function(){this.isShow=!1,this.view.hide()},t}();t.ModalWindowBackDrop=e}(AtomicPackageModel||(AtomicPackageModel={}));var Controller;!function(t){var o=AtomicPackages.AtomicPackageModel,e=AtomicPackageModel.ModalWindow,i=AtomicPackageView.ModalWindow,n=AtomicPackageModel.ModalWindowBackDrop,a=AtomicPackageView.ModalWindowBackDrop,c=function(){function t(){var t=this;this._created_modal_window_num=0,this.list=[],this.backDrop=null,this._DEFAULT_ID_NAME="modalWindow",this._DEFAULT_CLASS_NAME="modalWindow",document.addEventListener("DOMContentLoaded",function(){t.createFromElement(document.querySelectorAll("."+t._DEFAULT_CLASS_NAME)),console.log(t)})}return t.prototype.createId=function(){return++this._created_modal_window_num},t.prototype.createFromElement=function(t){for(var o=0;o<t.length;o++)this.create({className:t[o].className,idName:t[o].id?t[o].id:null,view:i.fromData(t[o])});t.length>0&&null===this.backDrop&&(this.backDrop=n.fromData({view:new a}))},t.prototype.matchModal=function(t){var o=[];return this.list.forEach(function(e){t.forEach(function(t){e==t&&o.push(e)})}),o},t.prototype.openCheck=function(){var t=!1;return this.list.forEach(function(o){o.isOpen&&(t=!0)}),t},t.prototype.open=function(t){var e=o.search(this.list,o.checkType(t));if(e.length>0){var i=this.matchModal(e);i.forEach(function(t){t.open()}),this.backDrop.show()}console.log(this.list)},t.prototype.close=function(t){var e=o.search(this.list,o.checkType(t));if(e.length>0){var i=this.matchModal(e);i.forEach(function(t){t.close()})}this.openCheck()||this.backDrop.hide()},t.prototype.create=function(t){if(void 0!==t){var o=this.createId();this.list.push(e.fromData({id:o,className:t.className?t.className:this._DEFAULT_CLASS_NAME,idName:t.idName?t.idName:String(this._DEFAULT_ID_NAME+o),view:t.view}))}else{var o=this.createId();this.list.push(e.fromData({id:this.createId(),className:this._DEFAULT_CLASS_NAME,idName:String(this._DEFAULT_ID_NAME+o),view:null}))}console.log(this.list)},t.prototype.destroy=function(t){var e=o.search(this.list,o.checkType(t)),i=[];e.length>0&&(this.list.forEach(function(t){e.forEach(function(o){t!==o?i.push(t):t.destroy()})}),this.list=i)},t.prototype.update=function(){},t.prototype.getElement=function(){},t}();t.ModalWindow=c}(Controller||(Controller={}));var Controller;!function(t){var o=function(){function t(){}return t}();t.Button=o}(Controller||(Controller={}));var AtomicPackages;!function(t){var o=Controller.ModalWindow,e=Controller.Button,i=function(){function i(){this.model=new t.AtomicPackageModel(this),this.view=new t.AtomicPackageView(this),this.modal=new o,this.btn=new e}return i}();t.AtomicPackageController=i}(AtomicPackages||(AtomicPackages={}));var e=eval,global=e("this"),AtomicPackages;!function(t){var o=function(){function o(e){if(o._instance)return o._instance;var i=new t.AtomicPackageController;this.modal=i.modal,this.btn=i.btn,o._instance=this}return o._instance=null,o}();t.AtomicPackage=o}(AtomicPackages||(AtomicPackages={})),"undefined"!=typeof module&&"undefined"==typeof module.exports.AP&&(module.exports.AP=new AtomicPackages.AtomicPackage),"undefined"!=typeof global&&"undefined"==typeof global.AP&&(global.AP=new AtomicPackages.AtomicPackage({}));var Model;!function(t){var o=function(){function t(){}return t}();t.Button=o}(Model||(Model={}));